function _defineProperties(i,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass(i,n,e){return n&&_defineProperties(i.prototype,n),e&&_defineProperties(i,e),i}function _classCallCheck(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{K1OG:function(i,n,e){"use strict";e.d(n,"a",(function(){return t}));var o=e("fXoL"),t=function(){var i=function i(){_classCallCheck(this,i),this.Data={},this.isBlank=!0};return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=o.Sb({token:i,factory:i.\u0275fac,providedIn:"root"}),i}()},wiMD:function(i,n,e){"use strict";e.r(n);var o=e("ofXK"),t=e("3Pt+"),c=e("c7TG"),r=e("tyNb"),a=e("K1OG"),l=e("LJOF"),s=e("tk/3"),b=e("AytR"),u=e("fXoL");function h(i,n){if(1&i){var e=u.ac();u.Zb(0,"ion-card"),u.Zb(1,"ion-row"),u.Zb(2,"ion-col",2),u.Xb(3,"img",7),u.Yb(),u.Yb(),u.Zb(4,"ion-card-header",2),u.Zb(5,"ion-card-title"),u.Zb(6,"h1"),u.uc(7),u.Yb(),u.Yb(),u.Zb(8,"ion-card-subtitle"),u.Zb(9,"h2"),u.uc(10),u.Yb(),u.Yb(),u.Yb(),u.Zb(11,"ion-card-content"),u.Zb(12,"div",2),u.Zb(13,"ion-row"),u.Zb(14,"ion-col"),u.Zb(15,"div",8),u.Zb(16,"ion-button",9),u.hc("click",(function(i){u.qc(e);var n=u.jc().$implicit;return u.jc().viewGrim(n)})),u.Xb(17,"ion-icon",10),u.Yb(),u.Zb(18,"span",11),u.uc(19,"View Details"),u.Yb(),u.Yb(),u.Yb(),u.Zb(20,"ion-col"),u.Zb(21,"ion-button",12),u.hc("click",(function(i){u.qc(e);var n=u.jc().$implicit;return u.jc().castGrim(n)})),u.uc(22,"Cast Spells"),u.Yb(),u.Yb(),u.Zb(23,"ion-col"),u.Zb(24,"div",8),u.Zb(25,"ion-button",9),u.hc("click",(function(i){u.qc(e);var n=u.jc().$implicit;return u.jc().downloadGrim(n)})),u.Xb(26,"ion-icon",13),u.Yb(),u.Zb(27,"span",11),u.uc(28,"Download Project"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&i){var o=u.jc().$implicit;u.Mb(7),u.vc(o.name),u.Mb(3),u.vc(o.value)}}function m(i,n){if(1&i&&(u.Zb(0,"ion-col",5),u.tc(1,h,29,2,"ion-card",6),u.Yb()),2&i){var e=n.$implicit,o=u.jc();u.Mb(1),u.mc("ngIf",1==o.checkSearch(e))}}var f,p,g=[{path:"",component:(f=function(){function i(n,e,o,t){_classCallCheck(this,i),this.magicService=n,this.navCtrl=e,this.utilityService=o,this.http=t,this.api_url=b.a.api_url,this.streamlit_url=b.a.streamlit_url,this.searchTerm=""}return _createClass(i,[{key:"ngOnInit",value:function(){this.getGrims()}},{key:"downloadGrim",value:function(i){console.log(i)}},{key:"checkSearch",value:function(i){return""==this.searchTerm||!!i.name.toLowerCase().includes(this.searchTerm.toLowerCase())}},{key:"viewGrim",value:function(i){this.magicService.isBlank=!1,this.magicService.Data.curr_grim=i,this.utilityService.navURL("/grim-view")}},{key:"castGrim",value:function(i){var n=this;console.log("Going to cast grim "+i.name);var e=new s.c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),o=this.api_url+"/launch_grim";console.log("calling this url: "+o),this.http.post(o,i,{headers:e}).toPromise().then((function(i){console.log(i),window.open(n.streamlit_url,"_blank")}),(function(i){console.log("ok we should back out"),console.log(i)}))}},{key:"getGrims",value:function(){var i=this;console.log("getting grims");var n=new s.c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});this.http.get(this.api_url+"/get_grims",{headers:n}).toPromise().then((function(n){i.grims=n.grims,console.log(i.grims)}),(function(n){console.log("ok we should back out"),console.log(n),i.utilityService.presentModelAlert("Error try again")}))}}]),i}(),f.\u0275fac=function(i){return new(i||f)(u.Wb(a.a),u.Wb(c.G),u.Wb(l.a),u.Wb(s.a))},f.\u0275cmp=u.Qb({type:f,selectors:[["app-library"]],decls:16,vars:2,consts:[[1,"top-content"],[3,"click"],["text-center",""],[3,"ngModel","ngModelChange"],["size","3",4,"ngFor","ngForOf"],["size","3"],[4,"ngIf"],["src","../../assets/spellbook.png",1,"spell_image"],[1,"tooltip"],["shape","round","color","medium",3,"click"],["name","eye"],[1,"tooltiptext"],["shape","round",3,"click"],["name","download"]],template:function(i,n){1&i&&(u.Zb(0,"ion-header"),u.Zb(1,"ion-toolbar"),u.Zb(2,"ion-title"),u.uc(3," Grimoire "),u.Yb(),u.Yb(),u.Yb(),u.Zb(4,"ion-content"),u.Zb(5,"ion-row",0),u.Zb(6,"ion-col"),u.Zb(7,"a",1),u.hc("click",(function(i){return n.utilityService.navURL("/new-home")})),u.uc(8,"Home"),u.Yb(),u.uc(9," > Library "),u.Yb(),u.Yb(),u.Zb(10,"ion-grid"),u.Zb(11,"h1",2),u.uc(12,"Grimoires"),u.Yb(),u.Zb(13,"ion-searchbar",3),u.hc("ngModelChange",(function(i){return n.searchTerm=i})),u.Yb(),u.Zb(14,"ion-row"),u.tc(15,m,2,1,"ion-col",4),u.Yb(),u.Yb(),u.Yb()),2&i&&(u.Mb(13),u.mc("ngModel",n.searchTerm),u.Mb(2),u.mc("ngForOf",n.grims))},directives:[c.n,c.B,c.A,c.l,c.u,c.k,c.m,c.b,c.v,c.K,t.c,t.d,o.h,o.i,c.f,c.h,c.j,c.i,c.g,c.d,c.o],styles:[".new_icon[_ngcontent-%COMP%]{font-size:100px}.item[_ngcontent-%COMP%]:hover{opacity:.5}.spell_image[_ngcontent-%COMP%]{height:250px;width:250px;display:block;margin-left:auto;margin-right:auto}ion-card[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"]}),f)}],d=((p=function i(){_classCallCheck(this,i)}).\u0275mod=u.Ub({type:p}),p.\u0275inj=u.Tb({factory:function(i){return new(i||p)},imports:[[r.i.forChild(g)],r.i]}),p);e.d(n,"LibraryPageModule",(function(){return w}));var v,w=((v=function i(){_classCallCheck(this,i)}).\u0275mod=u.Ub({type:v}),v.\u0275inj=u.Tb({factory:function(i){return new(i||v)},imports:[[o.b,t.a,c.C,d]]}),v)}}]);