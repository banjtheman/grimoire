(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{K1OG:function(t,i,o){"use strict";o.d(i,"a",(function(){return n}));var e=o("fXoL");let n=(()=>{class t{constructor(){this.Data={},this.isBlank=!0}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=e.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},W83J:function(t,i,o){"use strict";o.r(i);var e=o("ofXK"),n=o("3Pt+"),r=o("c7TG"),c=o("tyNb"),s=o("K1OG"),l=o("LJOF"),a=o("AytR"),b=o("tk/3"),u=o("fXoL");function h(t,i){if(1&t&&(u.Zb(0,"ion-card"),u.Zb(1,"ion-row"),u.Zb(2,"ion-col",4),u.Xb(3,"img",9),u.Yb(),u.Yb(),u.Zb(4,"ion-card-header",4),u.Zb(5,"ion-card-title"),u.uc(6),u.Yb(),u.Zb(7,"ion-card-subtitle"),u.uc(8),u.Yb(),u.Yb(),u.Yb()),2&t){const t=i.$implicit;u.Mb(3),u.oc("src","../../assets/spell_images/",t.spell_type,"/",t.spell_name,".png",u.rc),u.Mb(3),u.wc(" ",t.spell_name," "),u.Mb(2),u.wc(" ",t.spell_info," ")}}function p(t,i){1&t&&(u.Zb(0,"iframe",10),u.Zb(1,"p"),u.uc(2,"Your browser does not support iframes."),u.Yb(),u.Yb())}const m=[{path:"",component:(()=>{class t{constructor(t,i,o,e){this.magicService=t,this.navCtrl=i,this.utilityService=o,this.http=e,this.api_url=a.a.api_url,this.streamlit_url=a.a.streamlit_url,this.showTest=!1}ngOnInit(){this.magicService.isBlank&&(console.log("return"),window.location.href="/"),this.grim=this.magicService.Data.curr_grim}getSpellImage(t){return"../../assets/spell_images/"+t.spell_type+"/"+t.spell_name+".png"}ionViewDidEnter(){this.castTestGrim(this.grim)}castTestGrim(t){console.log("Going to test cast grim "+t.name);let i=new b.c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});var o=this.api_url+"/launch_test_grim";console.log("calling this url: "+o),this.http.post(o,t,{headers:i}).toPromise().then(t=>{console.log(t),this.showTest=!0},t=>{console.log("ok we should back out"),console.log(t)})}castGrim(t){console.log("Going to cast grim "+t.name);let i=new b.c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});var o=this.api_url+"/launch_grim";console.log("calling this url: "+o),this.http.post(o,t,{headers:i}).toPromise().then(t=>{console.log(t),window.open(this.streamlit_url,"_blank")},t=>{console.log("ok we should back out"),console.log(t)})}}return t.\u0275fac=function(i){return new(i||t)(u.Wb(s.a),u.Wb(r.G),u.Wb(l.a),u.Wb(b.a))},t.\u0275cmp=u.Qb({type:t,selectors:[["app-grim-view"]],decls:28,vars:5,consts:[[1,"top-content"],[3,"click"],[2,"height","100%"],["size","4"],["text-center",""],[4,"ngFor","ngForOf"],["shape","round","expand","full",3,"click"],["size","8"],["src","http://localhost:8501/",4,"ngIf"],[1,"spell_image",3,"src"],["src","http://localhost:8501/"]],template:function(t,i){1&t&&(u.Zb(0,"ion-header"),u.Zb(1,"ion-toolbar"),u.Zb(2,"ion-title"),u.uc(3," Grimoire "),u.Yb(),u.Yb(),u.Yb(),u.Zb(4,"ion-content"),u.Zb(5,"ion-row",0),u.Zb(6,"ion-col"),u.Zb(7,"a",1),u.hc("click",(function(t){return i.utilityService.navURL("/new-home")})),u.uc(8,"Home"),u.Yb(),u.uc(9," > "),u.Zb(10,"a",1),u.hc("click",(function(t){return i.utilityService.navURL("/library")})),u.uc(11,"Library"),u.Yb(),u.uc(12),u.Yb(),u.Yb(),u.Zb(13,"ion-grid",2),u.Zb(14,"ion-row",2),u.Zb(15,"ion-col",3),u.Zb(16,"div",4),u.Zb(17,"h1"),u.uc(18),u.Yb(),u.Zb(19,"h2"),u.uc(20),u.Yb(),u.Zb(21,"h3"),u.uc(22,"List of spells:"),u.Yb(),u.Yb(),u.tc(23,h,9,4,"ion-card",5),u.Zb(24,"ion-button",6),u.hc("click",(function(t){return i.castGrim(i.grim)})),u.uc(25,"Cast Spells"),u.Yb(),u.Yb(),u.Zb(26,"ion-col",7),u.tc(27,p,3,0,"iframe",8),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Mb(12),u.wc(" > ",i.grim.name," "),u.Mb(6),u.vc(i.grim.name),u.Mb(2),u.vc(i.grim.value),u.Mb(3),u.mc("ngForOf",i.grim.spells),u.Mb(4),u.mc("ngIf",i.showTest))},directives:[r.n,r.B,r.A,r.l,r.u,r.k,r.m,r.b,e.h,r.d,e.i,r.f,r.h,r.j,r.i],styles:[".spell_image[_ngcontent-%COMP%]{height:250px;width:50%;display:block;margin-left:auto;margin-right:auto}iframe[_ngcontent-%COMP%]{height:100%;width:100%;frameborder:0}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(i){return new(i||t)},imports:[[c.i.forChild(m)],c.i]}),t})();o.d(i,"GrimViewPageModule",(function(){return f}));let f=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(i){return new(i||t)},imports:[[e.b,n.a,r.C,g]]}),t})()}}]);