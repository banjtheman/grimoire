(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{K1OG:function(i,t,o){"use strict";o.d(t,"a",(function(){return e}));var n=o("fXoL");let e=(()=>{class i{constructor(){this.Data={},this.isBlank=!0}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=n.Sb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},wiMD:function(i,t,o){"use strict";o.r(t);var n=o("ofXK"),e=o("3Pt+"),c=o("c7TG"),r=o("tyNb"),s=o("K1OG"),l=o("LJOF"),a=o("tk/3"),b=o("AytR"),u=o("fXoL");function h(i,t){if(1&i){const i=u.ac();u.Zb(0,"ion-card"),u.Zb(1,"ion-row"),u.Zb(2,"ion-col",2),u.Xb(3,"img",7),u.Yb(),u.Yb(),u.Zb(4,"ion-card-header",2),u.Zb(5,"ion-card-title"),u.Zb(6,"h1"),u.uc(7),u.Yb(),u.Yb(),u.Zb(8,"ion-card-subtitle"),u.Zb(9,"h2"),u.uc(10),u.Yb(),u.Yb(),u.Yb(),u.Zb(11,"ion-card-content"),u.Zb(12,"div",2),u.Zb(13,"ion-row"),u.Zb(14,"ion-col"),u.Zb(15,"div",8),u.Zb(16,"ion-button",9),u.hc("click",(function(t){u.qc(i);const o=u.jc().$implicit;return u.jc().viewGrim(o)})),u.Xb(17,"ion-icon",10),u.Yb(),u.Zb(18,"span",11),u.uc(19,"View Details"),u.Yb(),u.Yb(),u.Yb(),u.Zb(20,"ion-col"),u.Zb(21,"ion-button",12),u.hc("click",(function(t){u.qc(i);const o=u.jc().$implicit;return u.jc().castGrim(o)})),u.uc(22,"Cast Spells"),u.Yb(),u.Yb(),u.Zb(23,"ion-col"),u.Zb(24,"div",8),u.Zb(25,"ion-button",9),u.hc("click",(function(t){u.qc(i);const o=u.jc().$implicit;return u.jc().downloadGrim(o)})),u.Xb(26,"ion-icon",13),u.Yb(),u.Zb(27,"span",11),u.uc(28,"Download Project"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&i){const i=u.jc().$implicit;u.Mb(7),u.vc(i.name),u.Mb(3),u.vc(i.value)}}function m(i,t){if(1&i&&(u.Zb(0,"ion-col",5),u.tc(1,h,29,2,"ion-card",6),u.Yb()),2&i){const i=t.$implicit,o=u.jc();u.Mb(1),u.mc("ngIf",1==o.checkSearch(i))}}const g=[{path:"",component:(()=>{class i{constructor(i,t,o,n){this.magicService=i,this.navCtrl=t,this.utilityService=o,this.http=n,this.api_url=b.a.api_url,this.streamlit_url=b.a.streamlit_url,this.searchTerm=""}ngOnInit(){this.getGrims()}downloadGrim(i){console.log(i)}checkSearch(i){return""==this.searchTerm||!!i.name.toLowerCase().includes(this.searchTerm.toLowerCase())}viewGrim(i){this.magicService.isBlank=!1,this.magicService.Data.curr_grim=i,this.utilityService.navURL("/grim-view")}castGrim(i){console.log("Going to cast grim "+i.name);let t=new a.c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});var o=this.api_url+"/launch_grim";console.log("calling this url: "+o),this.http.post(o,i,{headers:t}).toPromise().then(i=>{console.log(i),window.open(this.streamlit_url,"_blank")},i=>{console.log("ok we should back out"),console.log(i)})}getGrims(){console.log("getting grims");let i=new a.c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});this.http.get(this.api_url+"/get_grims",{headers:i}).toPromise().then(i=>{this.grims=i.grims,console.log(this.grims)},i=>{console.log("ok we should back out"),console.log(i),this.utilityService.presentModelAlert("Error try again")})}}return i.\u0275fac=function(t){return new(t||i)(u.Wb(s.a),u.Wb(c.G),u.Wb(l.a),u.Wb(a.a))},i.\u0275cmp=u.Qb({type:i,selectors:[["app-library"]],decls:16,vars:2,consts:[[1,"top-content"],[3,"click"],["text-center",""],[3,"ngModel","ngModelChange"],["size","3",4,"ngFor","ngForOf"],["size","3"],[4,"ngIf"],["src","../../assets/spellbook.png",1,"spell_image"],[1,"tooltip"],["shape","round","color","medium",3,"click"],["name","eye"],[1,"tooltiptext"],["shape","round",3,"click"],["name","download"]],template:function(i,t){1&i&&(u.Zb(0,"ion-header"),u.Zb(1,"ion-toolbar"),u.Zb(2,"ion-title"),u.uc(3," Grimoire "),u.Yb(),u.Yb(),u.Yb(),u.Zb(4,"ion-content"),u.Zb(5,"ion-row",0),u.Zb(6,"ion-col"),u.Zb(7,"a",1),u.hc("click",(function(i){return t.utilityService.navURL("/new-home")})),u.uc(8,"Home"),u.Yb(),u.uc(9," > Library "),u.Yb(),u.Yb(),u.Zb(10,"ion-grid"),u.Zb(11,"h1",2),u.uc(12,"Grimoires"),u.Yb(),u.Zb(13,"ion-searchbar",3),u.hc("ngModelChange",(function(i){return t.searchTerm=i})),u.Yb(),u.Zb(14,"ion-row"),u.tc(15,m,2,1,"ion-col",4),u.Yb(),u.Yb(),u.Yb()),2&i&&(u.Mb(13),u.mc("ngModel",t.searchTerm),u.Mb(2),u.mc("ngForOf",t.grims))},directives:[c.n,c.B,c.A,c.l,c.u,c.k,c.m,c.b,c.v,c.K,e.c,e.d,n.h,n.i,c.f,c.h,c.j,c.i,c.g,c.d,c.o],styles:[".new_icon[_ngcontent-%COMP%]{font-size:100px}.item[_ngcontent-%COMP%]:hover{opacity:.5}.spell_image[_ngcontent-%COMP%]{height:250px;width:250px;display:block;margin-left:auto;margin-right:auto}ion-card[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"]}),i})()}];let p=(()=>{class i{}return i.\u0275mod=u.Ub({type:i}),i.\u0275inj=u.Tb({factory:function(t){return new(t||i)},imports:[[r.i.forChild(g)],r.i]}),i})();o.d(t,"LibraryPageModule",(function(){return d}));let d=(()=>{class i{}return i.\u0275mod=u.Ub({type:i}),i.\u0275inj=u.Tb({factory:function(t){return new(t||i)},imports:[[n.b,e.a,c.C,p]]}),i})()}}]);